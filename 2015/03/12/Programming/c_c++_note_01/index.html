<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Some details about C/C++ | Xiongmin Lin</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="description" content="AbstractThis article shows some useful details about C/C++, which may accelerate your programming.   Reading files Writing files Flow diagram of for loop Get local time Convert int/double/char to stri">
<meta name="keywords" content="C&#x2F;C++ programming">
<meta property="og:type" content="article">
<meta property="og:title" content="Some details about C&#x2F;C++">
<meta property="og:url" content="http://linxiongmin.com/2015/03/12/Programming/c_c++_note_01/index.html">
<meta property="og:site_name" content="Xiongmin Lin">
<meta property="og:description" content="AbstractThis article shows some useful details about C/C++, which may accelerate your programming.   Reading files Writing files Flow diagram of for loop Get local time Convert int/double/char to stri">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://www.tutorialspoint.com/images/cpp_for_loop.jpg">
<meta property="og:updated_time" content="2015-05-30T22:13:33.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Some details about C&#x2F;C++">
<meta name="twitter:description" content="AbstractThis article shows some useful details about C/C++, which may accelerate your programming.   Reading files Writing files Flow diagram of for loop Get local time Convert int/double/char to stri">
<meta name="twitter:image" content="http://www.tutorialspoint.com/images/cpp_for_loop.jpg">

  
    <link rel="alternate" href="/atom.xml" title="Xiongmin Lin" type="application/atom+xml">
  

  
  <!--[if lte IE 10 ]><link rel="shortcut icon" href="/images/favicon.ico"><![endif]-->
  <!--[if !IE]><!-->
  <link rel="shortcut icon" href="/images/favicon.png">

  <meta name="msapplication-TileImage" content="/images/favicon.png">
  <meta name="msapplication-TileColor" content="#000000">

  <link rel="apple-touch-icon" href="/images/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/apple-touch-icon-144x144.png">

  <link rel="icon" sizes="256x256" href="/images/favicon.png">
  <!--<![endif]-->
  

  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro|Material+Icons|Raleway:400,300,700" rel="stylesheet" type="text/css">

  <link rel="stylesheet" href="/css/vendors.css">
  <link rel="stylesheet" href="/css/style.css">
  


  <script src="/js/vendors.js"></script>

  <script>
    define('jquery', function () {
      return window.jQuery;
    });
  </script>


</head>
<body>

  <div class="navbar-fixed">
  <nav id="main-navbar" class="grey lighten-5 z-depth-0" role="navigation">
    <div class="nav-wrapper container">

      <a id="logo-container" href="/" class="brand-logo center-align">
        <span>Xiongmin Lin</span>
        <sub></sub>
      </a>

      <ul class="right hide-on-med-and-down">
        
          <li>
            <a class="main-nav-link" href="/">Home</a>
          </li>
        
          <li>
            <a class="main-nav-link" href="/blog">Blog</a>
          </li>
        
          <li>
            <a class="main-nav-link" href="https://www.linkedin.com/in/shelmylin">Linkedin</a>
          </li>
        
          <li>
            <a class="main-nav-link" href="https://github.com/XiongminLin">Github</a>
          </li>
        
      </ul>

      <a href="#" data-activates="nav-mobile" class="button-collapse">
        <i class="material-icons">menu</i>
      </a>
    </div>
  </nav>
</div>

<ul id="nav-mobile" class="side-nav">
  
  <li>
    <a class="main-nav-link" href="/">Home</a>
  </li>
  
  <li>
    <a class="main-nav-link" href="/blog">Blog</a>
  </li>
  
  <li>
    <a class="main-nav-link" href="https://www.linkedin.com/in/shelmylin">Linkedin</a>
  </li>
  
  <li>
    <a class="main-nav-link" href="https://github.com/XiongminLin">Github</a>
  </li>
  
</ul>


  <div id="main-container">
    
<div class="container">
  <div class="row">
    <div class="col s12">


      <article id="post-Programming/c_c++_note_01" class="article article-type-post" itemscope="" itemprop="blogPost">

        <div class="article-inner">
          

          <header class="article-header">
          
              
  
    <h1 class="article-title header" itemprop="name">
      Some details about C/C++
    </h1>
  


          

            <div class="article-meta">
              <i class="fa fa-calendar"></i>
              <time datetime="2015-03-12T07:00:00.000Z" itemprop="datePublished">Mar 12, 2015</time>
            </div>
          </header>


          <div class="article-entry " itemprop="articleBody">
            
              <h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>This article shows some useful details about C/C++, which may accelerate your programming. </p>
<ul>
<li>Reading files</li>
<li>Writing files</li>
<li>Flow diagram of for loop</li>
<li>Get local time</li>
<li>Convert int/double/char to string</li>
<li>Convert string to int/long/double</li>
<li>two dimensional array (C: malloc &amp;&amp; free, C++: new &amp;&amp; delete)<a id="more"></a>
</li>
</ul>
<h1 id="Reading-files"><a href="#Reading-files" class="headerlink" title="Reading files"></a>Reading files</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;fstream&gt;</span><br><span class="line">bool read(const char *file_path)</span><br><span class="line">&#123;</span><br><span class="line">  ifstream file;</span><br><span class="line">  string data[23];</span><br><span class="line">  file.open(file_path);</span><br><span class="line">  if(file.fail())</span><br><span class="line">  &#123;</span><br><span class="line">    cout &lt;&lt; &quot;open file &quot; &lt;&lt; file_path &lt;&lt; endl;</span><br><span class="line">    file.close();</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">  int line = 0;</span><br><span class="line">  for(int i = 0; (i &lt; 23) &amp;&amp; !file.eof(); i++, line++)</span><br><span class="line">  &#123;</span><br><span class="line">    getline(file, data[i], &apos;\n&apos;);</span><br><span class="line">    cout &lt;&lt; data[i]  &lt;&lt; endl;</span><br><span class="line">    data[i].erase(0, data[i].find(&quot;]&quot;) + 2); // +2 because there is a space after before the number</span><br><span class="line">  &#125;</span><br><span class="line">  file.close();</span><br><span class="line">  return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This is the file read. you can add any comment before “]”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[Door LowerH] 12</span><br><span class="line">[Door UpperH] 23</span><br><span class="line">[Door LowerS] 17</span><br><span class="line">[Door UpperS] 159</span><br><span class="line">[Door LowerV] 51</span><br><span class="line">[Door UpperV] 228</span><br><span class="line">[Door Area Threshold] 25000</span><br><span class="line">[Door Candy] 70</span><br><span class="line">[Handle LowerH] 52</span><br><span class="line">[Handle UpperH] 157</span><br><span class="line">[Handle LowerS] 26</span><br><span class="line">[Handle UpperS] 146</span><br><span class="line">[Handle LowerV] 141</span><br><span class="line">[Handle UpperV] 255</span><br></pre></td></tr></table></figure></p>
<h1 id="Writing-files"><a href="#Writing-files" class="headerlink" title="Writing files"></a>Writing files</h1><p>A log file is a good way to debug. (acturally, a log file is not a good way to debug, it makes code in a mess &lt;– 2015-04-27)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;fstream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int main () &#123;</span><br><span class="line">  ofstream log_file;</span><br><span class="line">  log_file.open (&quot;log.txt&quot;);</span><br><span class="line">  log_file &lt;&lt; &quot;I just created a log file called log.txt&quot; &lt;&lt; endl;</span><br><span class="line">  log_file.close();</span><br><span class="line">  return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If we want to open an existing file and write after its last line, we should add a parameter in open function.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">log_file.open(&quot;log.txt&quot;, ios_base::app | ios_base::out);</span><br></pre></td></tr></table></figure></p>
<p>For moe detail about ofstream::open, cilick <a href="http://www.cplusplus.com/reference/fstream/ofstream/open/" target="_blank" rel="noopener">me</a></p>
<h1 id="Flow-diagram-of-for-loop"><a href="#Flow-diagram-of-for-loop" class="headerlink" title="Flow diagram of for loop"></a>Flow diagram of for loop</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for ( init; condition; increment )</span><br><span class="line">&#123;</span><br><span class="line">   statement(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://www.tutorialspoint.com/images/cpp_for_loop.jpg" alt="Flow diagram of for loop"><br>Reference: <a href="http://www.tutorialspoint.com/cplusplus/cpp_for_loop.htm" target="_blank" rel="noopener">http://www.tutorialspoint.com/cplusplus/cpp_for_loop.htm</a> </p>
<h1 id="Get-local-time"><a href="#Get-local-time" class="headerlink" title="Get local time"></a>Get local time</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/* ctime example */</span><br><span class="line">#include &lt;stdio.h&gt;      /* printf */</span><br><span class="line">#include &lt;time.h&gt;       /* time_t, time, ctime */</span><br><span class="line"></span><br><span class="line">int main ()</span><br><span class="line">&#123;</span><br><span class="line">  time_t rawtime;</span><br><span class="line"></span><br><span class="line">  time (&amp;rawtime);</span><br><span class="line">  printf (&quot;The current local time is: %s&quot;, ctime (&amp;rawtime));</span><br><span class="line"></span><br><span class="line">  return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Result:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The current local time is: Thu Mar 19 21:12:00 2015</span><br></pre></td></tr></table></figure></p>
<h1 id="convert-int-double-char-to-string"><a href="#convert-int-double-char-to-string" class="headerlink" title="convert int/double/char to string"></a>convert int/double/char to string</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">char a[100];</span><br><span class="line">int b;</span><br><span class="line">sprintf(a, &quot;%d&quot;, b);</span><br><span class="line">string str = string(a);</span><br></pre></td></tr></table></figure>
<p>see <a href="http://www.cplusplus.com/reference/cstdio/sprintf/?kw=sprintf" target="_blank" rel="noopener">sprintf</a> and <a href="http://www.cplusplus.com/reference/string/string/string/" target="_blank" rel="noopener">string constructor</a> for more details.</p>
<h1 id="Convert-string-to-int-long-double"><a href="#Convert-string-to-int-long-double" class="headerlink" title="Convert string to int/long/double"></a>Convert string to int/long/double</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">std::string myString = &quot;45&quot;;</span><br><span class="line">int value_int       = atoi(myString.c_str()); //value = 45</span><br><span class="line">long value_long     = atol(myString.c_str());</span><br><span class="line">double value_double = atof(myString.c_str());</span><br></pre></td></tr></table></figure>
<p>for more details, please visit <a href="http://www.cplusplus.com/reference/cstdlib/atoi/?kw=atoi" target="_blank" rel="noopener">atoi</a>, <a href="http://www.cplusplus.com/reference/cstdlib/atol/" target="_blank" rel="noopener">atol</a>, <a href="http://www.cplusplus.com/reference/cstdlib/atof/" target="_blank" rel="noopener">atof</a> </p>
<h1 id="two-dimensional-array-C-malloc-amp-amp-free-C-new-amp-amp-delete"><a href="#two-dimensional-array-C-malloc-amp-amp-free-C-new-amp-amp-delete" class="headerlink" title="two dimensional array (C: malloc &amp;&amp; free, C++: new &amp;&amp; delete)"></a>two dimensional array (C: malloc &amp;&amp; free, C++: new &amp;&amp; delete)</h1><p>first, let’s recall <a href="http://www.cplusplus.com/reference/new/operator%20delete[]/" target="_blank" rel="noopener">one dimensional array</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// operator delete[] example</span><br><span class="line">#include &lt;iostream&gt;     // std::cout</span><br><span class="line"></span><br><span class="line">struct MyClass &#123;</span><br><span class="line">  MyClass() &#123;std::cout &lt;&lt;&quot;MyClass constructed\n&quot;;&#125;</span><br><span class="line">  ~MyClass() &#123;std::cout &lt;&lt;&quot;MyClass destroyed\n&quot;;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main () &#123;</span><br><span class="line">  MyClass * pt;</span><br><span class="line"></span><br><span class="line">  pt = new MyClass[3];</span><br><span class="line">  delete[] pt;</span><br><span class="line"></span><br><span class="line">  return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>then continue with <a href="http://blog.sina.com.cn/s/blog_4e7ae8ca0100zqq6.html" target="_blank" rel="noopener">two dimensional array</a><br>C version<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">double **data;</span><br><span class="line"> data = (double **)malloc(m*sizeof(double *));</span><br><span class="line"> for(int j=0;j&lt;m;j++)</span><br><span class="line"> &#123;</span><br><span class="line">  data[j] = (double*)malloc(n*sizeof(double)); </span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> for (int i=0;i&lt;m;i++)</span><br><span class="line"> &#123;</span><br><span class="line">  for (int j=0;j&lt;n;j++)</span><br><span class="line">  &#123;</span><br><span class="line">   data[i][j]=i*n+j;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> for (i=0;i&lt;m;i++)</span><br><span class="line"> &#123;</span><br><span class="line">  free(data[i]);</span><br><span class="line"> &#125;              </span><br><span class="line"> free(data);</span><br></pre></td></tr></table></figure></p>
<p>C++ version<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">double **data;</span><br><span class="line">data = new double*[m]; //设置行 或直接double **data=new double*[m]; 一个指针指向一个指针数组。</span><br><span class="line">for(int j=0;j&lt;m;j++)</span><br><span class="line">&#123;</span><br><span class="line">data[j] = new double[n]; </span><br><span class="line">&#125;</span><br><span class="line">for (int i=0;i&lt;m;i++)</span><br><span class="line">&#123;</span><br><span class="line">   for (int j=0;j&lt;n;j++)</span><br><span class="line">   &#123;</span><br><span class="line">    data[i][j]=i*n+j;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">for (i=0;i&lt;m;i++)</span><br><span class="line">&#123;</span><br><span class="line"> delete[] data[i]; </span><br><span class="line">&#125;                     </span><br><span class="line">delete[] data;</span><br></pre></td></tr></table></figure></p>

            
          </div>

          

          <footer class="article-footer">
            <a data-url="http://linxiongmin.com/2015/03/12/Programming/c_c++_note_01/" data-id="cjpf53reh000he74zipwe5jif" class="article-share-link">Share</a>
            
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/C-C-programming/">C/C++ programming</a></li></ul>

          </footer>

        </div>

        
          
<nav id="article-nav" class="white">
  <div class="nav-wrapper">
    <ul class="row">
    
      <li class="col s6">
        <a href="/2015/03/17/plan/" id="article-nav-newer" class="article-nav-link-wrap grey-text text-darken-1 truncate">
          <i class="fa fa-arrow-left"></i>
          <span class="article-nav-title">Learning list</span>
        </a>
      </li>
    

    
      <li class="col s6">
        <a href="/2015/03/08/android/android_theory/" id="article-nav-older" class="article-nav-link-wrap grey-text text-darken-1 right-align truncate">
          <span class="article-nav-title">Android 基础理论</span>
          <i class="fa fa-arrow-right"></i>
        </a>
      </li>
    

    </ul>
  </div>
</nav>


        
      </article>


      



    </div>
  </div>
</div>


  



  </div>

  <footer class="page-footer grey darken-2">
    <div class="footer-copyright">
      <div class="container">
        &copy; 2018 Xiongmin Lin

        <div class="right">
          Powered by <a href="http://hexo.io/" rel="nofollow" class="white-text" target="_blank">Hexo</a>
        </div>
      </div>
    </div>
  </footer>

  <script src="/js/app.js"></script>

</body>
</html>
